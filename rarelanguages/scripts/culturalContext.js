/**
 * Kosovo Albanian Cultural Context Framework
 * Authentic cultural guidance for language learning and family integration
 */

const culturalContext = {
  
  // Gheg vs Standard Albanian Considerations
  dialectInformation: {
    title: "Gheg Albanian Dialect Specifics",
    description: "Understanding regional variations and family-appropriate language",
    considerations: [
      {
        topic: "Regional Usage",
        context: "Gheg Albanian primarily spoken in Kosovo, northern Albania, Montenegro, and North Macedonia",
        learning_impact: "Focus on Kosovo family expressions rather than southern Albanian variants",
        practical_note: "Wife's family likely uses Kosovo Gheg specifically - prioritize this variant"
      },
      {
        topic: "Informal vs Formal Speech",
        context: "Family conversations tend to be informal with regional expressions and diminutives",
        learning_impact: "Learn conversational family language before formal/business Albanian", 
        practical_note: "Group texts and family calls use casual, affectionate language"
      },
      {
        topic: "Pronunciation Differences", 
        context: "Gheg maintains distinct sounds (like 'gj' and 'xh') that may differ from standard",
        learning_impact: "Audio content should reflect actual family pronunciation patterns",
        practical_note: "Listen to family speech patterns to match their specific pronunciation"
      },
      {
        topic: "Vocabulary Variations",
        context: "Some common words differ between Gheg and Tosk (standard) Albanian",
        learning_impact: "Prioritize words used by family members over dictionary standard terms",
        practical_note: "Ask family about specific terms they use for household items, emotions"
      }
    ]
  },

  // Kosovo Albanian Family Culture
  familyDynamics: {
    title: "Kosovo Albanian Family Culture", 
    description: "Core family values and interaction patterns essential for integration",
    core_values: [
      {
        value: "Family Centrality",
        description: "Extended family is the primary social unit - more important than individual needs",
        language_implications: [
          "Many specific terms for family relationships and roles",
          "Family health inquiries come before personal questions",
          "Family decision-making involves multiple generations"
        ],
        conversation_guidance: [
          "Always ask 'How is the family?' before personal questions",
          "Include family members in future plans and discussions", 
          "Show interest in extended family members' lives and activities"
        ],
        practical_examples: [
          "Group text: Start with family health check-ins",
          "Phone calls: Ask about parents, siblings, children first",
          "Visits: Greet all family members individually"
        ]
      },
      {
        value: "Respect for Elders",
        description: "Age and wisdom are deeply revered - elder opinions carry significant weight",
        language_implications: [
          "Formal address for older relatives and family friends",
          "Specific vocabulary for showing respect and deference",
          "Different conversation styles with different age groups"
        ],
        conversation_guidance: [
          "Use formal address with grandparents and older relatives",
          "Ask for advice and opinions from elder family members",
          "Show appreciation for wisdom and experience"
        ],
        practical_examples: [
          "Address older in-laws formally until invited to be casual",
          "Ask grandmother for cooking advice or family stories",
          "Stand when elders enter room, offer seats"
        ]
      },
      {
        value: "Collective Decision Making",
        description: "Major decisions involve family discussion and consensus-building",
        language_implications: [
          "Language for group discussion and opinion-sharing",
          "Diplomatic ways to express disagreement",
          "Vocabulary for compromise and consensus"
        ],
        conversation_guidance: [
          "Present ideas for family input rather than announcing decisions",
          "Use inclusive language that invites participation",
          "Express respect for different viewpoints"
        ],
        practical_examples: [
          "Discuss vacation plans with family input", 
          "Ask family advice on major purchases or life changes",
          "Include family in baby planning and preparation"
        ]
      }
    ]
  },

  // Social Interaction Patterns
  socialCustoms: {
    title: "Social Interaction and Hospitality",
    description: "Essential social skills for family gatherings and community integration",
    customs: [
      {
        custom: "Coffee Culture",
        cultural_significance: "Coffee drinking is primary social bonding activity - serious friendship gesture",
        typical_scenarios: [
          "Morning coffee with family members",
          "Afternoon coffee invitations to neighbors/friends", 
          "Coffee as conversation facilitator during visits"
        ],
        language_needs: [
          "Inviting someone for coffee politely",
          "Accepting/declining coffee invitations appropriately",
          "Small talk suitable for coffee conversations",
          "Time expressions around coffee meetings"
        ],
        conversation_starters: [
          "Would you like to have coffee together?",
          "When would be good for coffee?",
          "Let's sit and have coffee while we talk"
        ],
        cultural_mistakes_to_avoid: [
          "Don't refuse coffee invitation without good reason - considered rude",
          "Don't rush coffee time - it's for bonding, not just caffeine",
          "Don't discuss serious problems during first coffee - build relationship first"
        ]
      },
      {
        custom: "Hospitality Rules",
        cultural_significance: "Guests are sacred - hospitality reflects family honor and respect",
        typical_scenarios: [
          "Arriving at family gatherings",
          "Being invited to family meals",
          "Hosting family members at your home"
        ],
        language_needs: [
          "Offering food and drink to guests",
          "Accepting offerings politely",
          "Expressing gratitude for hospitality",
          "Complimenting food and home"
        ],
        essential_phrases: [
          "Please, help yourself",
          "You must try this",
          "Thank you for welcoming me",
          "This is delicious",
          "Your home is beautiful"
        ],
        cultural_expectations: [
          "Always accept offered food/drink, even if just a taste",
          "Compliment the cooking and presentation",
          "Offer to help with preparation or cleaning",
          "Never arrive empty-handed to family gatherings"
        ]
      },
      {
        custom: "Card Games and Leisure",
        cultural_significance: "Popular family entertainment combining competition with storytelling and bonding",
        typical_scenarios: [
          "After-dinner card games during family visits",
          "Holiday gatherings with competitive games", 
          "Casual weekend gaming with cousins/siblings"
        ],
        language_needs: [
          "Game rules and terminology",
          "Friendly competitive banter",
          "Encouragement and congratulations",
          "Good sportsmanship expressions"
        ],
        social_expectations: [
          "Games are for bonding, not just winning",
          "Encourage other players and celebrate good moves",
          "Tell stories and share updates during play",
          "Include everyone, regardless of skill level"
        ],
        conversation_patterns: [
          "Start games by asking who wants to play",
          "Make encouraging comments during play", 
          "Share family news and light gossip while playing",
          "End games positively regardless of outcome"
        ]
      }
    ]
  },

  // Communication Styles
  communicationPatterns: {
    title: "Albanian Family Communication Styles",
    description: "How to communicate effectively within Albanian family structures",
    patterns: [
      {
        pattern: "Indirect Communication",
        description: "Important messages often conveyed indirectly to maintain harmony",
        examples: [
          "Suggestions presented as questions: 'What do you think about...?'",
          "Criticism wrapped in concern: 'I worry that...'",
          "Requests made as offers to help: 'Would it help if I...?'"
        ],
        language_skills_needed: [
          "Diplomatic way to express disagreement",
          "Asking questions to gauge opinions",
          "Making suggestions without being pushy"
        ]
      },
      {
        pattern: "Emotional Expression",
        description: "Feelings expressed warmly but within cultural boundaries",
        examples: [
          "Physical affection through hugs, kisses on cheeks",
          "Verbal affection through endearing nicknames",
          "Concern expressed through repeated check-ins"
        ],
        language_skills_needed: [
          "Terms of endearment for family members",
          "Ways to express care and concern",
          "Emotional vocabulary appropriate for family use"
        ]
      },
      {
        pattern: "Storytelling Tradition",
        description: "Family history and experiences shared through narrative",
        examples: [
          "Family meals often include story-sharing",
          "Card games accompanied by family anecdotes",
          "Teaching through stories rather than direct instruction"
        ],
        language_skills_needed: [
          "Past tense for sharing experiences",
          "Narrative connecting words",
          "Engaging storytelling expressions"
        ]
      }
    ]
  },

  // Life Event Customs
  lifeEvents: {
    title: "Important Life Events and Celebrations",
    description: "Cultural practices around major family milestones",
    events: [
      {
        event: "Pregnancy and Baby Preparation",
        cultural_importance: "Children highly valued - pregnancy is family-wide celebration",
        typical_practices: [
          "Entire extended family involved in baby preparation",
          "Traditional blessing and protection customs",
          "Name selection often involves elder family members"
        ],
        language_preparation: [
          "Vocabulary for pregnancy and baby care",
          "Traditional blessing phrases",
          "Family planning and preparation discussions"
        ],
        conversation_topics: [
          "Sharing pregnancy news with family",
          "Discussing baby names and traditions",
          "Planning for child's future and education"
        ]
      },
      {
        event: "Weddings and Marriages",
        cultural_importance: "Marriage unites families, not just individuals",
        typical_practices: [
          "Extended family involvement in wedding planning",
          "Traditional music, dancing, and feast",
          "Multi-day celebration with various ceremonies"
        ],
        language_needs: [
          "Wedding vocabulary and congratulations",
          "Family integration language",
          "Celebration and blessing expressions"
        ]
      },
      {
        event: "Religious Holidays",
        cultural_importance: "Mix of Islamic traditions with Albanian cultural practices",
        typical_practices: [
          "Family gatherings for Eid and other holidays",
          "Special meals and traditional foods",
          "Gift-giving and charity traditions"
        ],
        language_preparation: [
          "Holiday greetings and blessing phrases",
          "Traditional food names and descriptions",
          "Gift-giving and gratitude expressions"
        ]
      }
    ]
  },

  // Practical Integration Advice
  integrationGuidance: {
    title: "Practical Cultural Integration Tips",
    description: "Actionable advice for successful family integration",
    tips: [
      {
        area: "Family Gatherings",
        advice: [
          "Arrive slightly late (15-30 minutes) - shows respect for host preparation time",
          "Bring something small but thoughtful - flowers, sweets, or bread",
          "Offer to help with meal preparation or serving",
          "Stay for coffee after meals - leaving immediately after eating is rude"
        ],
        language_focus: "Polite offering, gratitude expressions, meal-time conversation"
      },
      {
        area: "Daily Communication",
        advice: [
          "Text family group chats regularly - silence interpreted as lack of care",
          "Ask about family health before sharing your own news",
          "Remember and ask about ongoing family situations (jobs, health, etc.)",
          "Share your own life updates - family wants to feel included"
        ],
        language_focus: "Family check-in phrases, update sharing, caring inquiry expressions"
      },
      {
        area: "Respect and Hierarchy",
        advice: [
          "Address elders formally until invited to be casual",
          "Ask older family members for advice - shows respect",
          "Include elders in conversations and decisions",
          "Stand or offer seat when elders enter room"
        ],
        language_focus: "Formal address, advice-seeking phrases, respectful questioning"
      }
    ]
  }
};

// Helper functions for accessing cultural context
const culturalContextHelpers = {
  
  getContextForSkill: (skillName) => {
    // Maps skills to relevant cultural context
    const skillContextMap = {
      "Greetings & Politeness": ["familyDynamics.core_values", "socialCustoms.customs"],
      "Family Members": ["familyDynamics", "communicationPatterns"],
      "Family Conversations": ["familyDynamics", "communicationPatterns", "integrationGuidance"],
      "Card Games & Leisure": ["socialCustoms.customs[2]"],
      "Food & Gatherings": ["socialCustoms.customs[1]", "integrationGuidance"],
      "Basic Conversations": ["communicationPatterns", "socialCustoms.customs[0]"]
    };
    
    return skillContextMap[skillName] || [];
  },

  getCulturalNotesForVocabulary: (category) => {
    // Returns cultural context for vocabulary categories
    const categoryContextMap = {
      "Family & People": culturalContext.familyDynamics.core_values[0],
      "Greetings & Basic Communication": culturalContext.socialCustoms.customs[0],
      "Card Games & Social Activities": culturalContext.socialCustoms.customs[2],
      "Food Culture & Gatherings": culturalContext.socialCustoms.customs[1]
    };
    
    return categoryContextMap[category] || null;
  },

  getIntegrationTipsForScenario: (scenario) => {
    // Returns relevant integration advice for specific scenarios
    return culturalContext.integrationGuidance.tips.filter(tip => 
      tip.area.toLowerCase().includes(scenario.toLowerCase()) ||
      tip.advice.some(advice => advice.toLowerCase().includes(scenario.toLowerCase()))
    );
  }
};

module.exports = {
  culturalContext,
  culturalContextHelpers
};